name: Snap package

on:
  push:
    branches: [ master ]
  pull_request:
    types: [assigned, opened, synchronize, reopened]

jobs:

  snap:
    runs-on: ubuntu-latest
    steps:

    - name: Check out code
      uses: actions/checkout@v2

    - name: E2E
      run: docker-compose up --build --abort-on-container-exit
      working-directory: sshpiperd/e2e
